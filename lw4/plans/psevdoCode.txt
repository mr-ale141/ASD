Корень            [1    :   2N-1]
Узел              [N-1  :   2N-1]

Потомок 1         (-inf : Ключ1)
Потомок 2<=I<=Len (КлючI-1 : КлючI)
Потомок Len+1     (КлючLen : +inf)

Вставка ключа в поддерево потомков
    если не лист
        определяем потомка
        вставляем ключ в поддерево этого потомка
        если потомок содержит 2N-1
            делим его на [Ключей(N-1)Потомки(N)] [(средний)] [ключ(N-1)потомок(N)]
            средний добавляем в родителя
            указатель в родителе на потомка меняем на два новых узла
    иначе
        добавляем ключ


Вставка в Б-дерево
    добавить ключ в дерево потомков корня
    если корень содержит 2N-1
        разделяем корень на (N-1)(средний)(N-1)
        средний становится новым корнем
        добавить двух новых потомков в новый корень

Удаление
    если корень лист
        удаляем ключ
    иначе
        поиск узла с запоминанием пути к нему
        если лист
            удаляем ключ
            если ключей < N-1
                если соседний правый узел существует и в нем не менее N ключей
                    забираем в текущий узел ключ-разделитель между текущим и правым узлом родительского узла
                    переместить первый ключ правого соседа в родительский узел вместо изъятого
                иначе если в левом узле не менее N ключей
                    забираем в текущий узел ключ-разделитель между текущим и левым узлом родительского узла
                    переместить последний ключ левого соседа в родительский узел вместо изъятого
                иначе
                    если правый узел существует
                        объединяем с правым узлом и добавляем ключ-разделитель из родительского узла
                    иначе если левый узел существует
                        объединяем с левым узлом и добавляем ключ-разделитель из родительского узла
                    если в родительском узле N-2 ключей
                        если родительский узел не корень
                            рекурсия с ним
                        иначе
                            удаляем ключ
                            если N == 0
                                исключаем корневой узел
                                делаем его оставшегося потомка новым корнем
        иначе
            если ключ в потомках меньше последнего ключа
                изъять самый правый ключ из поддерева потомков I-го ключа
                вставить изъятый ключ вместо удаляемого ключа в узле
            если ключ в потомке > последнего
                изъять самый левый ключ из поддерева последнего потомка
                вставить изъятый ключ вместо удаляемого ключа в узле


